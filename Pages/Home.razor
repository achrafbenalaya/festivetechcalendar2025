@page "/"
@using System.ComponentModel.DataAnnotations

<PageTitle>Festive Tech Calendar 2025</PageTitle>

<header class="py-5">
	<div class="container">
		<div class="row align-items-center g-4">
			<div class="col-12 col-lg-7">
				<div class="d-flex flex-wrap gap-2 mb-3">
					<span class="badge text-bg-primary">December 2025</span>
					<span class="badge text-bg-secondary">International</span>
					<span class="badge text-bg-success">100% Free</span>
				</div>

				<h1 class="display-5 fw-semibold">Festive Tech Calendar 2025</h1>
				<p class="lead mb-4">
					A community-driven event held every year in December, where speakers from around the world share
					knowledge through videos and articles on Azure, AI, and Microsoft technologies.
				</p>

				<div class="d-flex flex-wrap gap-2">
					<a class="btn btn-primary" href="#about">Learn more</a>
					<a class="btn btn-outline-primary" href="#donate">Donate for cancer charities</a>
				</div>

				<p class="text-body-secondary mt-3 mb-0">
					The event is 100% free and always will be.
				</p>
			</div>

			<div class="col-12 col-lg-5">
				<img class="img-fluid rounded-3 shadow-sm mb-3 ft-hero-img" src="festive.png" alt="Festive Tech Calendar 2025" />
				<div class="card shadow-sm">
					<div class="card-body">
						<h2 class="h5 mb-3">What to expect</h2>
						<ul class="list-unstyled mb-0">
							<li class="d-flex gap-2 mb-2">
								<span class="fw-semibold">Format:</span>
								<span>Daily videos and articles</span>
							</li>
							<li class="d-flex gap-2 mb-2">
								<span class="fw-semibold">Topics:</span>
								<span>Azure, AI, and Microsoft-related subjects</span>
							</li>
							<li class="d-flex gap-2 mb-2">
								<span class="fw-semibold">Cost:</span>
								<span>Free for everyone</span>
							</li>
							<li class="d-flex gap-2">
								<span class="fw-semibold">Impact:</span>
								<span>Donations collected for cancer charities</span>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</header>

<section id="about" class="py-5 bg-body-tertiary border-top border-bottom">
	<div class="container">
		<div class="row g-4">
			<div class="col-12 col-lg-7">
				<h2 class="h3 mb-3">About the event</h2>
				<p class="mb-3">
					Festive Tech Calendar is a global, community-led initiative that happens every December.
					Speakers contribute content as a video or an article, making it easy for anyone to learn at their own pace.
				</p>
				<p class="mb-0">
					Alongside learning, the event encourages giving back by collecting donations for cancer charities.
				</p>
			</div>
			<div class="col-12 col-lg-5">
				<div class="card">
					<div class="card-body">
						<h3 class="h5">Core principles</h3>
						<ul class="mb-0">
							<li>International speakers and community contributions</li>
							<li>Azure, AI, and Microsoft-focused content</li>
							<li>Free access for everyone</li>
							<li>Donation-driven impact for cancer charities</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<section id="topics" class="py-5">
	<div class="container">
		<div class="d-flex align-items-end justify-content-between gap-3 mb-4">
			<div>
				<h2 class="h3 mb-1">Topics</h2>
				<p class="text-body-secondary mb-0">Practical sessions and insights, from beginner to advanced.</p>
			</div>
		</div>

		<div class="row g-3">
			<div class="col-12 col-md-4">
				<div class="card h-100">
					<div class="card-body">
						<h3 class="h5">Azure</h3>
						<p class="mb-0">Cloud architecture, platform services, developer tools, and real-world patterns.</p>
					</div>
				</div>
			</div>
			<div class="col-12 col-md-4">
				<div class="card h-100">
					<div class="card-body">
						<h3 class="h5">AI</h3>
						<p class="mb-0">Applied AI, agentic apps, responsible AI, and shipping AI features to production.</p>
					</div>
				</div>
			</div>
			<div class="col-12 col-md-4">
				<div class="card h-100">
					<div class="card-body">
						<h3 class="h5">Microsoft</h3>
						<p class="mb-0">.NET, developer productivity, and modern engineering practices across the ecosystem.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<section id="schedule" class="py-5">
	<div class="container">
		<div class="d-flex align-items-end justify-content-between gap-3 mb-4">
			<div>
				<h2 class="h3 mb-1">Event samples</h2>
				<p class="text-body-secondary mb-0">Example days, subjects, and formats (video/article).</p>
			</div>
		</div>

		<div class="row g-3">
			@foreach (var sample in Samples)
			{
				<div class="col-12 col-md-6 col-lg-4" @key="sample.Day">
					<div class="card h-100 shadow-sm">
						<img class="card-img-top ft-sample-img" src="festive.png" alt="Festive Tech Calendar sample" />
						<div class="card-body">
							<div class="d-flex align-items-center justify-content-between mb-2">
								<span class="badge text-bg-primary">Day @sample.Day</span>
								<span class="badge text-bg-secondary">@sample.Format</span>
							</div>
							<h3 class="h5 mb-2">@sample.Subject</h3>
							<p class="text-body-secondary mb-0">@sample.Details</p>
						</div>
					</div>
				</div>
			}
		</div>
	</div>
</section>

<section id="contribute" class="py-5 bg-body-tertiary border-top border-bottom">
	<div class="container">
		<div class="row g-4 align-items-center">
			<div class="col-12 col-lg-7">
				<h2 class="h3 mb-3">Want to contribute?</h2>
				<p class="mb-3">
					Speakers can contribute to the calendar with either a video session or a written article.
					If you love Azure, AI, or Microsoft tech and want to share something useful, you’ll fit right in.
				</p>
				<p class="mb-0">
					Contribution details (submission steps and publishing schedule) are shared by the organizers during the event season.
				</p>

				<div class="d-flex flex-wrap gap-2 mt-4">
					<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#contributeModal" @onclick="ResetContributionForm">
						Submit a session ✨
					</button>
					<a class="btn btn-outline-primary" href="/speakers">See speakers 👥</a>
				</div>
			</div>
			<div class="col-12 col-lg-5">
				<div class="card shadow-sm">
					<div class="card-body">
						<h3 class="h5 mb-3">Contribution formats</h3>
						<div class="d-grid gap-2">
							<div class="p-3 border rounded-3 bg-body">
								<div class="fw-semibold">Video</div>
								<div class="text-body-secondary">Demo-driven sessions, how-tos, talks, or walkthroughs</div>
							</div>
							<div class="p-3 border rounded-3 bg-body">
								<div class="fw-semibold">Article</div>
								<div class="text-body-secondary">Guides, deep-dives, case studies, or lessons learned</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<div class="modal fade" id="contributeModal" tabindex="-1" aria-labelledby="contributeModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<div>
					<h2 class="h5 mb-0" id="contributeModalLabel">Submit your session</h2>
					<div class="text-body-secondary small">Share an idea as a video or an article — it’s free for everyone.</div>
				</div>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>

			<div class="modal-body">
				@if (contributionSubmitted)
				{
					<div class="alert alert-success mb-0" role="alert">
						<div class="fw-semibold">Thanks! Your submission is ready.</div>
						<div class="small text-body-secondary">(Demo only) Wire this up to a backend when you’re ready to collect real submissions.</div>
					</div>
				}
				else
				{
					<EditForm EditContext="@contributionEditContext" OnValidSubmit="OnSubmitContribution">
						<DataAnnotationsValidator />
						<ValidationSummary class="text-danger" />

						<div class="row g-3">
							<div class="col-12 col-md-6">
								<div class="form-floating">
									<InputText class="form-control" @bind-Value="contribution.FirstName" placeholder="First name" />
									<label>First name</label>
								</div>
							</div>
							<div class="col-12 col-md-6">
								<div class="form-floating">
									<InputText class="form-control" @bind-Value="contribution.LastName" placeholder="Last name" />
									<label>Last name</label>
								</div>
							</div>

							<div class="col-12">
								<div class="form-floating">
									<InputText class="form-control" @bind-Value="contribution.SessionName" placeholder="Session name" />
									<label>Session name</label>
								</div>
							</div>

							<div class="col-12">
								<div class="form-floating">
									<InputTextArea class="form-control" style="height: 140px" @bind-Value="contribution.Description" placeholder="Description"></InputTextArea>
									<label>Description</label>
								</div>
								<div class="form-text">Keep it short: audience, what they’ll learn, and prerequisites.</div>
							</div>

							<div class="col-12 col-md-6">
								<label class="form-label">Chosen date</label>
								<InputDate class="form-control" @bind-Value="contribution.ChosenDate" />
							</div>

							<div class="col-12 col-md-6">
								<label class="form-label">Format</label>
								<InputSelect class="form-select" @bind-Value="contribution.Format">
									<option value="Video">Video</option>
									<option value="Article">Article</option>
								</InputSelect>
							</div>
						</div>
					</EditForm>
				}
			</div>

			<div class="modal-footer">
				@if (contributionSubmitted)
				{
					<button type="button" class="btn btn-primary" data-bs-dismiss="modal">Done</button>
				}
				else
				{
					<button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-primary" @onclick="TrySubmitContribution">Submit</button>
				}
			</div>
		</div>
	</div>
</div>

<section id="donate" class="py-5">
	<div class="container">
		<div class="row g-4 align-items-center">
			<div class="col-12 col-lg-7">
				<h2 class="h3 mb-3">Donations for cancer charities</h2>
				<p class="mb-3">
					Festive Tech Calendar encourages optional donations that support cancer charities.
					You can enjoy all content for free and still help make a difference if you choose to donate.
				</p>
				<p class="mb-0 text-body-secondary">
					Donation information is provided by the organizers during the event.
				</p>
			</div>
			<div class="col-12 col-lg-5">
				<div class="card border-primary shadow-sm">
					<div class="card-body">
						<h3 class="h5">Free, forever</h3>
						<p class="mb-3">The event is 100% free and always will be.</p>
						<a class="btn btn-primary w-100" href="#about">Explore the event</a>
					</div>
				</div>
			</div>
		</div>

		<hr class="my-5" />

		<footer class="text-center text-body-secondary">
			<small>Festive Tech Calendar 2025 — Community-led learning in December.</small>
		</footer>
	</div>
</section>

@code {
	private sealed record EventSample(int Day, string Subject, string Format, string Details);

	private sealed class ContributionForm
	{
		[Required, MinLength(2)]
		public string? FirstName { get; set; }

		[Required, MinLength(2)]
		public string? LastName { get; set; }

		[Required, MinLength(4)]
		public string? SessionName { get; set; }

		[Required, MinLength(20)]
		public string? Description { get; set; }

		[Required]
		public DateTime? ChosenDate { get; set; } = DateTime.Today;

		[Required]
		public string Format { get; set; } = "Video";
	}

	private ContributionForm contribution = new();
	private EditContext contributionEditContext = default!;
	private bool contributionSubmitted;

	private static readonly IReadOnlyList<EventSample> Samples =
	[
		new(1, "Kickoff: Building on Azure", "Video", "Modern cloud foundations, best practices, and what to expect this December."),
		new(2, "AI in Production", "Article", "From prototypes to real apps: evaluation, quality checks, and practical deployment tips."),
		new(3, "Secure by Design", "Video", "Identity, access, and secure architecture patterns for modern Microsoft workloads."),
		new(4, "Developer Productivity", "Article", "Tooling and workflows to ship faster with .NET and the Microsoft ecosystem."),
		new(5, "Building Agentic Apps", "Video", "Designing AI agents and integrating them into real products responsibly."),
		new(6, "Cloud Cost & Performance", "Article", "Tuning performance and keeping things scalable and cost-aware."),
	];

	private void ResetContributionForm()
	{
		contributionSubmitted = false;
		contribution = new ContributionForm
		{
			ChosenDate = DateTime.Today,
			Format = "Video"
		};
		contributionEditContext = new EditContext(contribution);
	}

	private void OnSubmitContribution()
	{
		contributionSubmitted = true;
	}

	protected override void OnInitialized()
	{
		ResetContributionForm();
	}

	private void TrySubmitContribution()
	{
		if (contributionEditContext.Validate())
		{
			OnSubmitContribution();
		}
	}
}
